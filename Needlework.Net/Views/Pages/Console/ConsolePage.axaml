<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:avaloniaEdit="https://github.com/avaloniaui/avaloniaedit"
			 xmlns:reactiveUi="http://reactiveui.net"
			 xmlns:ui="using:FluentAvalonia.UI.Controls"             
             xmlns:uip="using:FluentAvalonia.UI.Controls.Primitives"
			 xmlns:vm="using:Needlework.Net.ViewModels.Pages.Console"
			 xmlns:controls="using:Needlework.Net.Controls"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Needlework.Net.Views.Pages.Console.ConsolePage"
			 x:DataType="vm:ConsoleViewModel">
	<controls:BusyArea Name="BusyArea"
					   BusyText="Loading...">
		<Grid Margin="16" RowDefinitions="auto,*" ColumnDefinitions="*,*">
			<Grid Grid.Row="0"
				  Grid.Column="0"
				  Grid.ColumnSpan="2">
				<StackPanel Margin="0 0 0 8">
					<Grid RowDefinitions="auto" ColumnDefinitions="auto,*,auto">
						<!-- Worst behavior of Avalonia with ReactiveUI, but works for now.
						https://stackoverflow.com/a/78409519 
						https://github.com/AvaloniaUI/Avalonia/discussions/17736#discussioncomment-11525997 -->
						<ComboBox Name="RequestMethodsComboBox"
								  Margin="0 0 8 0"
								  Grid.Row="0"
								  Grid.Column="0">
							<ComboBox.ItemTemplate>
								<DataTemplate>
									<TextBlock Text="{Binding}" />
								</DataTemplate>
							</ComboBox.ItemTemplate>
						</ComboBox>
						<AutoCompleteBox Name="RequestPathsAutoCompleteBox"
								 MaxDropDownHeight="400"
								 FilterMode="StartsWith"
								 Grid.Row="0"
								 Grid.Column="1"/>
						<Button Name="SendRequestButton" 
								Margin="8 0 0 0"
								HorizontalAlignment="Center"
								VerticalAlignment="Bottom"
								FontWeight="DemiBold"
								Grid.Row="0"
								Grid.Column="2">
							Send
						</Button>
					</Grid>
				</StackPanel>
			</Grid>
			<Grid Grid.Row="1"
				  Grid.Column="0"
				  RowDefinitions="auto,*"
				  ColumnDefinitions="*">
				<TextBox Name="ResponsePathTextBox" 
						 IsReadOnly="True"
						 Grid.Row="0"
						 Grid.Column="0"/>
				<avaloniaEdit:TextEditor
								 Name="RequestEditor"
								 Text=""
								 ShowLineNumbers="True"
								 HorizontalScrollBarVisibility="Auto"
								 VerticalScrollBarVisibility="Visible"
								 Margin="0 8 0 0"
								 FontSize="12"
								 Grid.Row="1"
								 Grid.Column="0"/>
			</Grid>
			<Grid	RowDefinitions="35,*"
					ColumnDefinitions="*"
					Margin="8 0 0 0"
					Grid.Row="1"
					Grid.Column="1">
				<StackPanel Orientation="Horizontal"
							Grid.Row="0"
							Grid.Column="0">
					<Button Name="ResponseStatusButton" 
							FontSize="12"
							VerticalAlignment="Center"/>
				</StackPanel>
				<avaloniaEdit:TextEditor
									   Grid.Row="1"
									   Grid.Column="0"
									   Name="ResponseEditor"
									   HorizontalScrollBarVisibility="Auto"
									   VerticalScrollBarVisibility="Visible"
									   ShowLineNumbers="True"
									   IsReadOnly="True"
									   Text=""
									   FontSize="12"/>
			</Grid>
		</Grid>
	</controls:BusyArea>
</UserControl>
